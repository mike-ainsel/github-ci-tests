name: "[W] java-gradle-lib"

on:
  push:
    tags: [ '*' ]
  workflow_dispatch: {}

jobs:
  run:
    uses: milaboratory/github-ci/.github/workflows/java-gradle-lib.yaml@v1-beta
    with:
      java-version: '11'
      lib-name: JAVA Gradle Lib
      lib-name-slug: 'gradle-stub-lib'
      build-project: 'stub-lib'
      build-project-dir: './gradle'
      notify-telegram: true

    secrets:
      GRADLE_PROPERTIES: |
        someSecret1=${{ secrets.TG_CHANNEL_MIBUILDS }}
        someSecret2=uhahaha
        someSecret3=bebebe

      TELEGRAM_NOTIFICATION_TARGET: "95899978"
      TELEGRAM_API_TOKEN: ${{ secrets.TG_CI_BOT_TOKEN }}

      GITHUB_MAVEN_AUTH_USER: ${{ secrets.GH_CI_BOT_NAME }}
      GITHUB_MAVEN_AUTH_TOKEN: ${{ secrets.GH_CI_BOT_TOKEN }}
